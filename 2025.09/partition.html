<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å‘½é‹ä¹‹æ£®çš„æŠ‰æ“‡è©¦ç…‰</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet">
  <style>
    html, body {
      height: 100%;
      margin: 0;
    }

    body {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      font-family: 'Noto Sans TC', sans-serif;
      background: url('source/forest.jpg') no-repeat center center fixed;
      background-size: cover;
      color: #001240;
    }

    .container {
      background-color: rgba(255, 255, 255, 0.8);
      max-width: 650px;
      width: 90%;
      padding: 30px 20px;
      border-radius: 16px;
      box-shadow: 
        0 0 20px rgba(0, 0, 0, 0.15),
        0 0 30px 8px rgba(255, 255, 255, 0.5);
      box-sizing: border-box;
    }

    h1 {
      text-align: center;
      font-size: 1.8rem;
      margin-bottom: 20px;
    }

    #question-title {
      font-size: 1.3rem;
      font-weight: bold;
      margin-bottom: 10px;
    }

    #question {
      font-size: 1.1rem;
      margin-bottom: 20px;
      white-space: pre-wrap;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .option-btn {
      padding: 14px 18px;
      border: 2px solid #003080;
      background-color: #d0e2ff;
      color: #001240;
      border-radius: 10px;
      font-size: 1rem;
      text-align: left;
      cursor: pointer;
      transition: 0.3s;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
	  touch-action: manipulation;
	  min-height: 48px;
    }

    .option-btn:hover {
      background-color: #aac1ff;
    }

    .option-btn.selected {
      background-color: #aac1ff;
    }

    .option-btn:focus,
    .option-btn:active {
      outline: none;
      box-shadow: none;
    }

    #result {
      display: none;
      text-align: center;
      white-space: pre-wrap;
    }

    #result h2 {
      font-size: 1.6rem;
      margin-bottom: 20px;
    }

    #result p {
      font-size: 1.2rem;
      line-height: 1.6;
    }

    #start-page {
      text-align: center;
    }

    #start-btn, #restart-btn, #back-btn {
      margin-top: 20px;
      background-color: #003080;
      color: #fff;
      padding: 12px 24px;
      font-size: 1rem;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    #start-btn:hover, #restart-btn:hover, #back-btn:hover {
      background-color: #001a66;
    }

    .nav-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }

    @media screen and (max-width: 480px) {
      .container {
        padding: 20px 16px;
      }

      h1 {
        font-size: 1.5rem;
      }

      .option-btn {
        font-size: 0.95rem;
        padding: 12px 16px;
      }

      #start-btn, #restart-btn, #back-btn {
        font-size: 0.95rem;
        padding: 10px 20px;
      }

      .nav-buttons {
        flex-direction: column;
        gap: 10px;
        align-items: center;
      }
    }

    /* âœ… é®ç½©ï¼šé˜²æ­¢é»æ“Šç©¿é€ */
    #touch-blocker {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 9999;
      background-color: rgba(0, 0, 0, 0.01);
    }

  </style>
</head>
<body>

  <div class="container">
    <h1>å‘½é‹ä¹‹æ£®çš„æŠ‰æ“‡è©¦ç…‰1</h1>

    <div id="start-page">
      <p>æ­¡è¿ä¾†åˆ°å‘½é‹ä¹‹æ£®çš„æŠ‰æ“‡è©¦ç…‰ï¼<br>æº–å‚™å¥½è¸ä¸Šå†’éšªæ—…ç¨‹äº†å—ï¼Ÿ</p>
      <button id="start-btn">é–‹å§‹æ¸¬é©—</button>
    </div>

    <div id="quiz" style="display:none;">
      <p id="question-title"></p>
      <p id="question"></p>
      <div class="options"></div>
      <div class="nav-buttons">
        <button id="back-btn" style="display:none;">â† ä¸Šä¸€é¡Œ</button>
      </div>
    </div>

    <div id="result">
      <h2>ä½ çš„å†’éšªè€…æ€§æ ¼æ˜¯ï¼š</h2>
      <p id="result-text"></p>
      <button id="restart-btn">é‡æ–°æ¸¬é©—</button>
    </div>
  </div>

  <!-- âœ… åŠ å…¥é€æ˜é®ç½©é˜²æ­¢èª¤è§¸ -->
  <div id="touch-blocker" style="
	display: none;
	position: fixed;
	top: 0; left: 0;
	width: 100vw;
	height: 100vh;
	z-index: 9999;
	background-color: rgba(0,0,0,0);">
  </div>

  
  
  <script>
  const questions = [
    {
      title: "ğŸ”® Q1. ç¥ç§˜åœ°åœ–",
      text: "ä½ å‰›æ”¶åˆ°ä¸€å¼µç¥ç§˜çš„åœ°åœ–ï¼Œåœ°åœ–ä¸Šæ¨™ç¤ºäº†ä¸€åº§å‚³èªªä¸­çš„å¯¶è—éºè·¡ã€‚\nä½ æ‰“ç®—æ€éº¼è™•ç†é€™å¼µåœ°åœ–ï¼Ÿ",
      options: [
        { text: "Aï¼šä»”ç´°ç ”ç©¶åœ°åœ–èˆ‡å‘¨é‚Šåœ°å½¢ï¼Œåšè¶³è³‡æ–™æŸ¥æ‰¾å†å‡ºç™¼ã€‚", type: "A" },
        { text: "Bï¼šé–‰ä¸Šçœ¼æ„Ÿå—åœ°åœ–ä¸Šçš„èƒ½é‡æµå‹•ï¼Œè¦ºå¾—å“ªè£¡æœ‰æ„Ÿå°±èµ°ã€‚", type: "B" },
        { text: "Cï¼šé›–ç„¶å¾ˆæƒ³å»ï¼Œä½†æ“”å¿ƒå±éšªæˆ–è¿·è·¯ï¼Œæš«æ™‚å…ˆæ”¾ä¸€é‚Šã€‚", type: "C" },
        { text: "Dï¼šå¤ªåˆºæ¿€äº†ï¼é¦¬ä¸Šæ‰“åŒ…è£å‚™å°±è¦å‡ºç™¼ã€‚", type: "D" },
      ]
    },
    {
      title: "ğŸ§™â€â™€ï¸ Q2. ç¥ç§˜ä»»å‹™é‚€è«‹",
      text: "è·¯ä¸Šä½ é‡åˆ°ä¸€ä½æ—…è€…ï¼Œä»–é‚€è«‹ä½ åŠ å…¥ä¸€å ´æœªçŸ¥çš„ä»»å‹™ï¼Œä½†æ²’æœ‰èªªæ˜å¤ªå¤šç´°ç¯€ã€‚\nä½ æœƒæ€éº¼å›æ‡‰ï¼Ÿ",
      options: [
        { text: "Aï¼šè©¢å•ä»»å‹™å…§å®¹ã€é¢¨éšªèˆ‡å›å ±ï¼Œå†æ±ºå®šæ˜¯å¦åŠ å…¥ã€‚", type: "A" },
        { text: "Bï¼šæ„Ÿè¦ºé€™äººä¸å£ï¼Œè€Œä¸”ç›´è¦ºå‘Šè¨´ä½ é€™ä»»å‹™å€¼å¾—å†’éšªï¼Œå°±ç­”æ‡‰äº†ã€‚", type: "B" },
        { text: "Cï¼šèªªã€Œå†è€ƒæ…®ä¸€ä¸‹ã€ï¼Œå…¶å¯¦ä½ åœ¨çŒ¶è±«å¾ˆä¹…éƒ½é‚„æ²’æ±ºå®šã€‚", type: "C" },
        { text: "Dï¼šé¦¬ä¸Šèªªå¥½ï¼Œåæ­£æœ‰äº‹å°±ç•¶ä½œç£¨ç·´ç¶“é©—å€¼ï¼", type: "D" },
      ]
    },
    {
      title: "ğŸ° Q3. å‘½é‹çš„äº¤å‰å£",
      text: "ä»»å‹™é€”ä¸­ä½ ä¾†åˆ°ä¸€å€‹ç¥ç§˜çš„äº¤å‰å£ï¼Œå››æ¢è·¯çœ‹èµ·ä¾†ä¸€æ¨£ï¼Œä½†æ¯æ¢è·¯éƒ½å¯èƒ½é€šå¾€ä¸åŒå‘½é‹ã€‚\nä½ æœƒæ€éº¼é¸æ“‡ï¼Ÿ",
      options: [
        { text: "Aï¼šæ‹¿å‡ºæŒ‡å—é‡ã€æ¯”å°åœ°åœ–èˆ‡æ˜Ÿè±¡ï¼Œç†æ€§åˆ†æå†é¸æ“‡ã€‚", type: "A" },
        { text: "Bï¼šç«™åœ¨è·¯ä¸­å¤®ï¼Œæ„Ÿå—å“ªæ¢è·¯ã€Œåœ¨å¬å–šä½ ã€ï¼Œé †å‹¢è€Œè¡Œã€‚", type: "B" },
        { text: "Cï¼šä½ é¸ä¸å‡ºä¾†ï¼Œä¹¾è„†åŸåœ°æ­å¸³ç¯·ä¼‘æ¯ä¸€æ™šå†èªªã€‚", type: "C" },
        { text: "Dï¼šä»»é¸ä¸€æ¢ç›´èµ°ï¼Œå› ç‚ºã€Œä¸èµ°ä¸æœƒçŸ¥é“ã€ã€‚", type: "D" },
      ]
    },
    {
      title: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Q4. æˆé•·èƒŒæ™¯",
      text: "æ—…ç¨‹ä¸­ï¼Œä½ é‡è¦‹äº†ä¸€ä½æœƒé è¨€çš„è€è€…ï¼Œä»–èªªä½ çš„æˆé•·èƒŒæ™¯å½±éŸ¿äº†ä½ çš„é¸æ“‡ã€‚\nä»–å•ä½ ï¼šã€Œä½ åœ¨å®¶ä¸­çš„æ’è¡Œæ˜¯ï¼Ÿã€\n(å¦‚æœå®¶ä¸­åªæœ‰å…©å€‹å­©å­ï¼Œè«‹è€äºŒé¸ã€Œè€ä¹ˆã€)",
      options: [
        { text: "Aï¼šæˆ‘æ˜¯å®¶ä¸­è€å¤§ï¼Œç¿’æ…£é ˜å°èˆ‡è² è²¬ã€‚", type: "A" },
        { text: "Bï¼šæˆ‘æ˜¯ç¨ç”Ÿå­å¥³ï¼Œç¿’æ…£è‡ªå·±ç¨ç«‹æ€è€ƒèˆ‡å®‰æ’ã€‚", type: "B" },
        { text: "Cï¼šæˆ‘æ˜¯å®¶ä¸­ä¸­é–“çš„å­©å­ï¼Œå¸¸åœ¨ä»–äººä¹‹é–“å¹³è¡¡ã€‚", type: "C" },
        { text: "Dï¼šæˆ‘æ˜¯å®¶ä¸­è€ä¹ˆï¼Œç¿’æ…£è‡ªç”±ä¸”æœ‰å‰µæ„åœ°ç”Ÿæ´»ã€‚", type: "D" },
      ]
    },
    {
      title: "ğŸ‰ Q5. å·¨é¾çš„è©¦ç…‰",
      text: "æœ€å¾Œä¸€é—œä½ é¢å°ä¸€é ­å®ˆè­·å¯¶è—çš„å·¨é¾ï¼Œå®ƒæå‡ºä¸€å€‹æ¢ä»¶ï¼š\nã€Œä½ è¦æ±ºå®šç¨è‡ªæŒ‘æˆ°æˆ‘ï¼Œé‚„æ˜¯é›†çµå¤¥ä¼´ä¸€åŒæ‡‰æˆ°ï¼Ÿã€\nä½ æƒ³æ€éº¼åšï¼Ÿ",
      options: [
        { text: "Aï¼šå¬é›†éšŠå‹ä¸¦è¦åŠƒæˆ°ç•¥ï¼Œæ¯äººåˆ†å·¥åˆä½œã€‚", type: "A" },
        { text: "Bï¼šçœ‹èµ·ä¾†é€™æ¢é¾ä¸ä¸€å®šè¦æ‰“ï¼Œæˆ–è¨±æœ‰å…¶ä»–å’Œå¹³æ–¹å¼ï¼Ÿ", type: "B" },
        { text: "Cï¼šçŒ¶è±«å¾ˆä¹…ï¼Œä¸ç¢ºå®šè©²é¸å“ªå€‹æ–¹å¼æœ€å¥½ã€‚", type: "C" },
        { text: "Dï¼šä½ ç‡ƒèµ·æˆ°é¬¥ä¹‹é­‚ï¼Œæ±ºå®šä¸€å€‹äººä¸Šå ´ä¸€æˆ°åˆ°åº•ï¼", type: "D" },
      ]
    },
    {
      title: "ğŸŒ«ï¸ Q6. å‘½é‹ä¹‹é¡",
      text: "ä½ æ“Šæ•—å·¨é¾å¾Œï¼Œå¯¶è—é–€æ‰“é–‹äº†ã€‚\nè£¡é¢ä¸æ˜¯é»ƒé‡‘ï¼Œè€Œæ˜¯ä¸€é¢ç¥ç§˜çš„ã€Œå‘½é‹ä¹‹é¡ã€ã€‚\né¡å­è£¡æœƒé¡¯ç¾ä½ å¿ƒä¸­æœ€æ¸´æœ›çš„ç•«é¢ã€‚\nä½ çœ‹åˆ°äº†ä»€éº¼ï¼Ÿ",
      options: [
        { text: "Aï¼šä¸€å¼µç­–ç•¥åœ°åœ–ï¼Œä¸Šé¢æ¨™è‘—ä½ æœªä¾†å¹¾å¹´è¦å®Œæˆçš„ä»»å‹™èˆ‡è·¯ç·šã€‚", type: "A" },
        { text: "Bï¼šä¸€æ®µå……æ»¿è‰²å½©èˆ‡å¯èƒ½æ€§çš„æ—…ç¨‹ï¼Œä½ æ­£éš¨é¢¨è€Œè¡Œã€‚", type: "B" },
        { text: "Cï¼šä½ ç«™åœ¨åå­—è·¯å£ï¼Œæœ›è‘—å¤šæ¢åˆ†å²”çš„è·¯ï¼Œä¸çŸ¥è©²å»å“ªã€‚", type: "C" },
        { text: "Dï¼šä½ èˆ‡å¤¥ä¼´å€‘åœ¨ç¯ç«å‰æ­¡ç¬‘ï¼Œé‚£æ˜¯å‰›å®Œæˆä¸€å ´åˆºæ¿€å†’éšªå¾Œçš„å¤œæ™šã€‚", type: "D" },
      ]
    },
    {
      title: "ğŸŒŒ Q7. å´©å¡Œçš„å‡ºå£",
      text: "å‘½é‹ä¹‹æ£®é–‹å§‹å´©å¡Œï¼Œä½ è¦å¿«é€Ÿé›¢é–‹ï¼\nå‡ºå£æ–¹å‘æœ‰ä¸‰æ¢è·¯ï¼Œå„è‡ªæœ‰æœªçŸ¥çš„é¢¨éšªèˆ‡æ©Ÿæœƒã€‚\nä½ æœƒæ€éº¼æ‡‰å°ï¼Ÿ",
      options: [
        { text: "Aï¼šæ‹¿å‡ºåœ°åœ–èˆ‡æŒ‡å—é‡ï¼Œå†·éœåˆ†ææœ€æœ‰æ©Ÿæœƒç”Ÿé‚„çš„è·¯ç·šã€‚", type: "A" },
        { text: "Bï¼šå…§å¿ƒæµ®ç¾ä¸€é“å…‰ï¼Œå¼•å°ä½ é¸æ“‡å…¶ä¸­ä¸€æ¢ï¼Œä½ æ¯«ä¸é²ç–‘è·Ÿè‘—æ„Ÿè¦ºèµ°ã€‚", type: "B" },
        { text: "Cï¼šçŒ¶è±«ä¸æ±ºã€ä¾†å›è¸±æ­¥ï¼Œæ“”å¿ƒæ¯æ¢è·¯éƒ½å¯èƒ½æ˜¯é™·é˜±ã€‚", type: "C" },
        { text: "Dï¼šé¸ä¸€æ¢é¢¨æœ€å¼·ã€æœ€åˆºæ¿€çš„æ–¹å‘è¡å‡ºå»ï¼Œå¤§å–Šï¼šã€Œå‘½é‹æˆ‘ä¾†äº†ï¼ã€", type: "D" },
      ]
    }
  ];

  const personalityDescriptions = {
    A: "ä½ æ˜¯ã€ç†æ€§è¦åŠƒè€…ã€‘ã€‚\n\nå–œæ­¡ç”¨ç†æ€§å’Œåˆ†æä¾†é¢å°æŒ‘æˆ°ï¼Œå–„æ–¼è¦åŠƒèˆ‡é ˜å°ï¼Œåƒæ˜¯éšŠä¼ä¸­çš„å¤§è…¦ã€‚",
    B: "ä½ æ˜¯ã€ç›´è¦ºå†’éšªå®¶ã€‘ã€‚\n\næ†‘ç›´è¦ºèˆ‡æ„Ÿæ€§åšæ±ºå®šï¼Œå‹‡æ–¼å†’éšªèˆ‡å˜—è©¦ï¼Œç¸½èƒ½ç™¼ç¾ä¸ä¸€æ¨£çš„è·¯ã€‚",
    C: "ä½ æ˜¯ã€è¬¹æ…è§€å¯Ÿè€…ã€‘ã€‚\n\nè¼ƒç‚ºè¬¹æ…èˆ‡çŒ¶è±«ï¼Œå–œæ­¡è§€å¯Ÿç’°å¢ƒä¸¦è©•ä¼°é¢¨éšªï¼Œå±¬æ–¼ç©©å¥å‹äººæ ¼ã€‚",
    D: "ä½ æ˜¯ã€ç†±æƒ…è¡åˆºè€…ã€‘ã€‚\n\nå……æ»¿ç†±æƒ…èˆ‡è¡Œå‹•åŠ›ï¼Œä¸æ€•æŒ‘æˆ°ï¼Œé¢å°å›°é›£æ™‚ç¸½æ˜¯æ•¢æ–¼ç›´è¡è€Œä¸Šï¼"
  };

  let currentIndex = 0;
  let goingBack = false;
  const answers = new Array(questions.length).fill(null);

  const startBtn = document.getElementById("start-btn");
  const restartBtn = document.getElementById("restart-btn");
  const backBtn = document.getElementById("back-btn");
  const startPage = document.getElementById("start-page");
  const quizDiv = document.getElementById("quiz");
  const resultDiv = document.getElementById("result");
  const questionTitleEl = document.getElementById("question-title");
  const questionEl = document.getElementById("question");
  const optionsDiv = document.querySelector(".options");
  const resultText = document.getElementById("result-text");
  const blocker = document.getElementById("touch-blocker");

  // é˜»æ­¢é®ç½©ä¸Šçš„æ»¾å‹•ï¼Œé¿å…æ»‘å‹•ç©¿é€
  blocker.addEventListener('touchmove', e => e.preventDefault(), { passive: false });

  startBtn.onclick = () => {
    startPage.style.display = "none";
    quizDiv.style.display = "block";
    currentIndex = 0;
    answers.fill(null);
    goingBack = false;
    renderQuestion();
  };

  restartBtn.onclick = () => {
    resultDiv.style.display = "none";
    startPage.style.display = "block";
  };

  backBtn.onclick = () => {
    if (currentIndex > 0) {
      currentIndex--;
      goingBack = true;
      renderQuestion();
    }
  };

  function renderQuestion() {
    const q = questions[currentIndex];
    questionTitleEl.textContent = q.title;
    questionEl.textContent = q.text;
    optionsDiv.innerHTML = "";

    q.options.forEach((opt, idx) => {
      const btn = document.createElement("button");
      btn.className = "option-btn";
      btn.textContent = opt.text;

      if (goingBack && answers[currentIndex] === idx) {
        btn.classList.add("selected");
      }

      btn.onclick = () => {
        if (window.isProcessing) return;  // é˜²æ­¢å¤šæ¬¡é»æ“Š
        window.isProcessing = true;

        answers[currentIndex] = idx;
        goingBack = false;

        // ç¦ç”¨æ‰€æœ‰æŒ‰éˆ•
        const allBtns = document.querySelectorAll('.option-btn');
        allBtns.forEach(b => b.disabled = true);

        // é¡¯ç¤ºè§¸æ§é®ç½©
        blocker.style.display = "block";

        setTimeout(() => {
          blocker.style.display = "none";
          window.isProcessing = false;

          currentIndex++;
          if (currentIndex < questions.length) {
            renderQuestion();
          } else {
            showResult();
          }
        }, 600); // ç¢ºä¿é˜»æ–·æ»‘å‹•ç©¿é€æ™‚é–“
      };

      optionsDiv.appendChild(btn);
    });

    backBtn.style.display = currentIndex > 0 ? "inline-block" : "none";

    // å¤±å»ç„¦é»é¿å…æ‰‹æ©Ÿéµç›¤ç­‰å•é¡Œ
    setTimeout(() => {
      document.activeElement.blur();
    }, 50);
  }

  function showResult() {
    quizDiv.style.display = "none";
    resultDiv.style.display = "block";

    // è¨ˆç®—æœ€å¤šçš„ç­”æ¡ˆé¡å‹
    const countMap = { A: 0, B: 0, C: 0, D: 0 };
    answers.forEach((ans, i) => {
      if (ans !== null) {
        const type = questions[i].options[ans].type;
        countMap[type]++;
      }
    });

    // æ‰¾å‡ºæœ€é«˜å¾—ç¥¨é¡å‹
    let maxType = null;
    let maxCount = -1;
    for (const type in countMap) {
      if (countMap[type] > maxCount) {
        maxCount = countMap[type];
        maxType = type;
      }
    }

    // é¡¯ç¤ºçµæœ
    resultText.textContent = personalityDescriptions[maxType] || "ç„¡æ³•åˆ¤æ–·çµæœã€‚";
  }
</script>


</body>
</html>