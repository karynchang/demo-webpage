!function() {
    "use strict";
    new Vue({
      el: "#app",
      data: {
        gas: "https://script.google.com/macros/s/AKfycbw9aX_9oC43oW7CnIF0w9YMKjjfIZPnwjiVwRhBQ2B9IjD51YRPZn8YpDm_yQMzPr5oeQ/exec",
        // name: "",
        id: "",
        persons: {},
        person: {},
        formAction: "https://docs.google.com/forms/u/0/d/e/1FAIpQLSfLFQnkyH0pjGjZbFV-dw_O1Z7oAJ9SDgd4lO34BVFLRwi7tA/formResponse",
        input: {
          id: 'entry.1339314469',
          name: "entry.2132758197",
          phone: "entry.1937240046",
          area: "entry.2050668982",
          org: "entry.769254",
          note: "entry.1172474453"
         
        },
        loading: false
      },
      methods: {
        limitIdLen: function(t) {
          if (t.length > 4) return this.id = this.id.slice(0, 4);
        },
        submit: function() {
          var t = this;
          if (this.person.name !== 'undefined') {
            var n = ""
              .concat(this.input.id, "=")
              .concat(this.person.id, "&")
              .concat(this.input.name, "=")
              .concat(this.person.name, "&")
              .concat(this.input.phone, "=")
              .concat(this.person.phone, "&")
              .concat(this.input.area, "=")
              .concat(this.person.area, "&")
              .concat(this.input.org, "=")
              .concat(this.person.org, "&")
              .concat(this.input.note, "=")
              .concat(this.person.message || "無");
            fetch(this.formAction + "?" + n, { method: "POST" }).catch(function(n) {
              alert("提交成功。"), t.name = "", t.person = {};
            });
          }
        }
      },
      watch: {
        id: function(t) {
          var n = this;
          if (4 === t.length)
            if (typeof this.persons[this.id] === 'undefined') {
              this.loading = true;
              var i = this.gas + "?id=" + this.id;
              fetch(i, { method: "POST" })
                .then(function(t) {
                  return t.json();
                })
                .then(function(t) {
                  n.persons[n.id] = t, n.person = t, n.loading = false;
                });
            } else this.person = this.persons[this.id];
        }
      }
    });
  }();
  