!function() {
    "use strict";
    new Vue({
      el: "#app",
      data: {
        gas: "https://script.google.com/macros/s/AKfycbwbK1PbXtKpRYStmVp0BspqxUG74lsbqrKoxX2InGwI0gzAACYekd4BNklZx4W_tBEr/exec",
        name: "",
        persons: {},
        person: {},
        formAction: "https://docs.google.com/forms/u/0/d/e/1FAIpQLSfLFQnkyH0pjGjZbFV-dw_O1Z7oAJ9SDgd4lO34BVFLRwi7tA/formResponse",
        input: {
          name: "entry.2132758197",
          phone: "entry.1937240046",
          area: "entry.2050668982",
          org: "entry.769254",
          note: "entry.1172474453",
          loading: !1
        },
        methods: {
          limitIdLen: function(t) {
            if (t.length > 3) return this.name = this.name.slice(0, 3);
          },
          submit: function() {
            var t = this;
            if (void 0 !== this.person.name) {
              var n = ""
                .concat(this.input.name, "=")
                .concat(this.person.name, "&")
                .concat(this.input.phone, "=")
                .concat(this.person.phone, "&")
                .concat(this.input.area, "=")
                .concat(this.person.area, "&")
                .concat(this.input.org, "=")
                .concat(this.person.org, "&")
                .concat(this.input.note, "=")
                .concat(this.person.message || "無");
              fetch(this.formAction + "?" + n, { method: "POST" })
                .catch(function(n) {
                  alert("提交成功。"), (t.name = ""), (t.person = {});
                });
            }
          }
        },
        watch: {
          name: function(t) {
            var n = this;
            if (4 === t.length)
              if (void 0 === this.persons[this.name]) {
                this.loading = !0;
                var i = this.gas + "?name=" + this.name;
                fetch(i, { method: "POST" })
                  .then(function(t) {
                    return t.json();
                  })
                  .then(function(t) {
                    (n.persons[n.name] = t), (n.person = t), (n.loading = !1);
                  });
                console.log("person=",JSON.stringify(this.person));
                console.log("persons=",JSON.stringify(this.persons));
              } 
              else this.person = this.persons[this.name];
              console.log("person=",JSON.stringify(this.person));
              console.log("persons=",JSON.stringify(this.persons));
          }
        }
      }
    });
  }();
  